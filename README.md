# Django Maldives Islands

**Django Maldives Islands** is a reusable Django app that provides structured data for Maldivian atolls and islands, along with a helper model method for generating signed Google Static Map preview URLs.

## Installation

### Using UV

```bash
uv add https://github.com:fauzaanu/django-maldives-islands.git
```

### Using PIP

```bash
pip install git+https://github.com/fauzaanu/django-maldives-islands.git
```

## Usage

Once installed, add the app to your Django `INSTALLED_APPS`:

```python
INSTALLED_APPS = [
    ...
    "islandsmv",
]
```

Run migrations to create the necessary database tables:

```bash
python manage.py migrate
```

## Available Data

The app provides two main models:

### `Atoll`

Represents an administrative atoll in the Maldives.

| Field              | Description                        |
| ------------------ | ---------------------------------- |
| `code` (CharField) | The atoll code (e.g. "MLE", "HDH"). |

> Note that Galohu, Henveiru and all these districts are classified under MLE atoll (The districts are represented as an `Island`

### `Island`

Represents an island in a specific atoll. Each island entry includes:

| Field                     | Description                        |
| ------------------------- | ---------------------------------- |
| `name` (CharField)        | Full name of the island including atoll           |
| `island_name` (CharField) | Name of island without atoll           |
| `atoll` (ForeignKey)      | Reference to the associated atoll. |
| `type` (CharField)        | Either `admin_island` or `maale`.  |
| `latitude` (FloatField)   | Latitude coordinate.               |
| `longitude` (FloatField)  | Longitude coordinate.              |

Additionally, each island exposes:

* **`lat_long_combined`** — a property returning a tuple `(latitude, longitude)`.
* **`get_static_map_url()`** — a method that returns a signed Google Static Map URL preview of the island.

## Map Preview Configuration

You can customize how maps are generated by adding these optional settings in your `settings.py`:

```python
MAPS_API_KEY = "your_google_maps_api_key"
MAPS_PRIVATE_KEY = "your_url_signing_secret"

MAPS_ZOOM = 15        # Default map zoom level
MAPS_WIDTH = 600      # Default image width in pixels
MAPS_HEIGHT = 300     # Default image height in pixels
```

The `MAPS_API_KEY` and `MAPS_PRIVATE_KEY` are required to generate signed static map URLs.

# Data import

[Data](https://github.com/fauzaanu/django-maldives-islands/blob/main/src/islandsmv/fixtures/island.json) comes included within this Django App and is automatically added on first run

